require=(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({"LayerSVG":[function(require,module,exports){
var bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

exports.LayerSVG = (function(superClass) {
  extend(LayerSVG, superClass);

  function LayerSVG(options) {
    if (options == null) {
      options = {};
    }
    this.createShape = bind(this.createShape, this);
    LayerSVG.__super__.constructor.call(this, options);
    this.html = "<svg id='svg' width='" + this.width + "' height='" + this.height + "'>/<svg>";
    this.svg = this.querySelector("#svg");
  }

  LayerSVG.prototype.createShape = function(type, options) {
    var circle, ellipse, line, path, polygon, rect, shape;
    if (options == null) {
      options = {};
    }
    return shape = (function() {
      switch (false) {
        case type !== "rect":
          rect = document.createElementNS("http://www.w3.org/2000/svg", "rect");
          rect.setAttributeNS(null, "x", "" + options.x);
          rect.setAttributeNS(null, "y", "" + options.y);
          rect.setAttributeNS(null, "width", "" + options.width);
          rect.setAttributeNS(null, "height", "" + options.height);
          return this.svg.appendChild(rect);
        case type !== "circle":
          circle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
          circle.setAttributeNS(null, "cx", "" + options.x);
          circle.setAttributeNS(null, "cy", "" + options.y);
          circle.setAttributeNS(null, "r", "" + options.radius);
          return this.svg.appendChild(circle);
        case type !== "ellipse":
          ellipse = document.createElementNS("http://www.w3.org/2000/svg", "ellipse");
          ellipse.setAttributeNS(null, "cx", "" + options.x);
          ellipse.setAttributeNS(null, "cy", "" + options.y);
          ellipse.setAttributeNS(null, "rx", "" + options.radiusHorizontal);
          ellipse.setAttributeNS(null, "ry", "" + options.radiusVertical);
          return this.svg.appendChild(ellipse);
        case type !== "line":
          line = document.createElementNS("http://www.w3.org/2000/svg", "line");
          line.setAttributeNS(null, "x1", "" + options.x);
          line.setAttributeNS(null, "y1", "" + options.y);
          line.setAttributeNS(null, "x2", "" + options.x2);
          line.setAttributeNS(null, "y2", "" + options.y2);
          line.setAttributeNS(null, "stroke", "black");
          return this.svg.appendChild(line);
        case type !== "polygon":
          polygon = document.createElementNS("http://www.w3.org/2000/svg", "polygon");
          polygon.setAttributeNS(null, "points", "" + options.points);
          return this.svg.appendChild(polygon);
        case type !== "path":
          path = document.createElementNS("http://www.w3.org/2000/svg", "path");
          path.setAttributeNS(null, "d", "" + options.path);
          return this.svg.appendChild(path);
      }
    }).call(this);
  };

  return LayerSVG;

})(Layer);



},{}],"LayerSVG":[function(require,module,exports){
// Generated by CoffeeScript 1.9.1
var bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

exports.LayerSVG = (function(superClass) {
  extend(LayerSVG, superClass);

  function LayerSVG(options) {
    if (options == null) {
      options = {};
    }
    this.createShape = bind(this.createShape, this);
    LayerSVG.__super__.constructor.call(this, options);
    this.html = "<svg id='svg' width='" + this.width + "' height='" + this.height + "'>/<svg>";
    this.svg = this.querySelector("#svg");
  }

  LayerSVG.prototype.createShape = function(type, options) {
    var circle, ellipse, line, path, polygon, rect, shape;
    if (options == null) {
      options = {};
    }
    return shape = (function() {
      switch (false) {
        case type !== "rect":
          rect = document.createElementNS("http://www.w3.org/2000/svg", "rect");
          rect.setAttributeNS(null, "x", "" + options.x);
          rect.setAttributeNS(null, "y", "" + options.y);
          rect.setAttributeNS(null, "width", "" + options.width);
          rect.setAttributeNS(null, "height", "" + options.height);
          return this.svg.appendChild(rect);
        case type !== "circle":
          circle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
          circle.setAttributeNS(null, "cx", "" + options.x);
          circle.setAttributeNS(null, "cy", "" + options.y);
          circle.setAttributeNS(null, "r", "" + options.radius);
          return this.svg.appendChild(circle);
        case type !== "ellipse":
          ellipse = document.createElementNS("http://www.w3.org/2000/svg", "ellipse");
          ellipse.setAttributeNS(null, "cx", "" + options.x);
          ellipse.setAttributeNS(null, "cy", "" + options.y);
          ellipse.setAttributeNS(null, "rx", "" + options.radiusHorizontal);
          ellipse.setAttributeNS(null, "ry", "" + options.radiusVertical);
          return this.svg.appendChild(ellipse);
        case type !== "line":
          line = document.createElementNS("http://www.w3.org/2000/svg", "line");
          line.setAttributeNS(null, "x1", "" + options.x);
          line.setAttributeNS(null, "y1", "" + options.y);
          line.setAttributeNS(null, "x2", "" + options.x2);
          line.setAttributeNS(null, "y2", "" + options.y2);
          line.setAttributeNS(null, "stroke", "black");
          return this.svg.appendChild(line);
        case type !== "polygon":
          polygon = document.createElementNS("http://www.w3.org/2000/svg", "polygon");
          polygon.setAttributeNS(null, "points", "" + options.points);
          return this.svg.appendChild(polygon);
        case type !== "path":
          path = document.createElementNS("http://www.w3.org/2000/svg", "path");
          path.setAttributeNS(null, "d", "" + options.path);
          return this.svg.appendChild(path);
      }
    }).call(this);
  };

  return LayerSVG;

})(Layer);

},{}],"myModule":[function(require,module,exports){
exports.myVar = "myVariable";

exports.myFunction = function() {
  return print("myFunction is running");
};

exports.myArray = [1, 2, 3];



},{}]},{},[])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvam9zaG10dWNrZXIvR2l0SHViL0xheWVyU1ZHL0xheWVyU1ZHLmZyYW1lci9tb2R1bGVzL0xheWVyU1ZHLmNvZmZlZSIsIi4uLy4uLy4uLy4uLy4uL1VzZXJzL2pvc2htdHVja2VyL0dpdEh1Yi9MYXllclNWRy9MYXllclNWRy5mcmFtZXIvbW9kdWxlcy9MYXllclNWRy5qcyIsIi9Vc2Vycy9qb3NobXR1Y2tlci9HaXRIdWIvTGF5ZXJTVkcvTGF5ZXJTVkcuZnJhbWVyL21vZHVsZXMvbXlNb2R1bGUuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUEsSUFBQTs7NkJBQUE7O0FBQUEsT0FBYSxDQUFDO0FBQ2IsOEJBQUEsQ0FBQTs7QUFBYSxFQUFBLGtCQUFDLE9BQUQsR0FBQTs7TUFBQyxVQUFRO0tBRXJCO0FBQUEsbURBQUEsQ0FBQTtBQUFBLElBQUEsMENBQU0sT0FBTixDQUFBLENBQUE7QUFBQSxJQUVBLElBQUMsQ0FBQyxJQUFGLEdBQVMsdUJBQUEsR0FBd0IsSUFBQyxDQUFDLEtBQTFCLEdBQWdDLFlBQWhDLEdBQTRDLElBQUMsQ0FBQyxNQUE5QyxHQUFxRCxVQUY5RCxDQUFBO0FBQUEsSUFHQSxJQUFDLENBQUMsR0FBRixHQUFRLElBQUMsQ0FBQyxhQUFGLENBQWdCLE1BQWhCLENBSFIsQ0FGWTtFQUFBLENBQWI7O0FBQUEscUJBT0EsV0FBQSxHQUFhLFNBQUMsSUFBRCxFQUFPLE9BQVAsR0FBQTtBQUNaLFFBQUEsaURBQUE7O01BRG1CLFVBQVE7S0FDM0I7V0FBQSxLQUFBO0FBQVEsY0FBQSxLQUFBO0FBQUEsYUFDRixJQUFBLEtBQVEsTUFETjtBQUVOLFVBQUEsSUFBQSxHQUFPLFFBQVEsQ0FBQyxlQUFULENBQXlCLDRCQUF6QixFQUF1RCxNQUF2RCxDQUFQLENBQUE7QUFBQSxVQUNBLElBQUks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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEVBLE9BQU8sQ0FBQyxLQUFSLEdBQWdCLFlBQWhCLENBQUE7O0FBQUEsT0FFTyxDQUFDLFVBQVIsR0FBcUIsU0FBQSxHQUFBO1NBQ3BCLEtBQUEsQ0FBTSx1QkFBTixFQURvQjtBQUFBLENBRnJCLENBQUE7O0FBQUEsT0FLTyxDQUFDLE9BQVIsR0FBa0IsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLENBQVAsQ0FMbEIsQ0FBQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJjbGFzcyBleHBvcnRzLkxheWVyU1ZHIGV4dGVuZHMgTGF5ZXIgXG5cdGNvbnN0cnVjdG9yOiAob3B0aW9ucz17fSkgLT5cblx0XHRcblx0XHRzdXBlciBvcHRpb25zXG5cblx0XHRALmh0bWwgPSBcIjxzdmcgaWQ9J3N2Zycgd2lkdGg9JyN7QC53aWR0aH0nIGhlaWdodD0nI3tALmhlaWdodH0nPi88c3ZnPlwiXG5cdFx0QC5zdmcgPSBALnF1ZXJ5U2VsZWN0b3IoXCIjc3ZnXCIpXG5cblx0Y3JlYXRlU2hhcGU6ICh0eXBlLCBvcHRpb25zPXt9KSA9PlxuXHRcdHNoYXBlID0gc3dpdGNoXG5cdFx0XHR3aGVuIHR5cGUgaXMgXCJyZWN0XCIgXG5cdFx0XHRcdHJlY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInJlY3RcIilcblx0XHRcdFx0cmVjdC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInhcIiwgXCIje29wdGlvbnMueH1cIilcblx0XHRcdFx0cmVjdC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInlcIiwgXCIje29wdGlvbnMueX1cIilcblx0XHRcdFx0cmVjdC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcIndpZHRoXCIsIFwiI3tvcHRpb25zLndpZHRofVwiKVxuXHRcdFx0XHRyZWN0LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiaGVpZ2h0XCIsIFwiI3tvcHRpb25zLmhlaWdodH1cIilcblxuXHRcdFx0XHRALnN2Zy5hcHBlbmRDaGlsZChyZWN0KVxuXG5cdFx0XHR3aGVuIHR5cGUgaXMgXCJjaXJjbGVcIlxuXHRcdFx0XHRjaXJjbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcImNpcmNsZVwiKVxuXHRcdFx0XHRjaXJjbGUuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJjeFwiLCBcIiN7b3B0aW9ucy54fVwiKVxuXHRcdFx0XHRjaXJjbGUuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJjeVwiLCBcIiN7b3B0aW9ucy55fVwiKVxuXHRcdFx0XHRjaXJjbGUuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJyXCIsIFwiI3tvcHRpb25zLnJhZGl1c31cIilcblxuXHRcdFx0XHRALnN2Zy5hcHBlbmRDaGlsZChjaXJjbGUpXG5cblx0XHRcdHdoZW4gdHlwZSBpcyBcImVsbGlwc2VcIlxuXHRcdFx0XHRlbGxpcHNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJlbGxpcHNlXCIpXG5cdFx0XHRcdGVsbGlwc2Uuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJjeFwiLCBcIiN7b3B0aW9ucy54fVwiKVxuXHRcdFx0XHRlbGxpcHNlLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiY3lcIiwgXCIje29wdGlvbnMueX1cIilcblx0XHRcdFx0ZWxsaXBzZS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInJ4XCIsIFwiI3tvcHRpb25zLnJhZGl1c0hvcml6b250YWx9XCIpXG5cdFx0XHRcdGVsbGlwc2Uuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJyeVwiLCBcIiN7b3B0aW9ucy5yYWRpdXNWZXJ0aWNhbH1cIilcblxuXHRcdFx0XHRALnN2Zy5hcHBlbmRDaGlsZChlbGxpcHNlKVxuXG5cdFx0XHR3aGVuIHR5cGUgaXMgXCJsaW5lXCJcblx0XHRcdFx0bGluZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwibGluZVwiKVxuXHRcdFx0XHRsaW5lLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwieDFcIiwgXCIje29wdGlvbnMueH1cIilcblx0XHRcdFx0bGluZS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInkxXCIsIFwiI3tvcHRpb25zLnl9XCIpXG5cdFx0XHRcdGxpbmUuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ4MlwiLCBcIiN7b3B0aW9ucy54Mn1cIilcblx0XHRcdFx0bGluZS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInkyXCIsIFwiI3tvcHRpb25zLnkyfVwiKVxuXHRcdFx0XHRsaW5lLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwic3Ryb2tlXCIsIFwiYmxhY2tcIilcblxuXHRcdFx0XHRALnN2Zy5hcHBlbmRDaGlsZChsaW5lKVxuXG5cdFx0XHR3aGVuIHR5cGUgaXMgXCJwb2x5Z29uXCJcblx0XHRcdFx0cG9seWdvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwicG9seWdvblwiKVxuXHRcdFx0XHRwb2x5Z29uLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwicG9pbnRzXCIsIFwiI3tvcHRpb25zLnBvaW50c31cIilcblxuXHRcdFx0XHRALnN2Zy5hcHBlbmRDaGlsZChwb2x5Z29uKVxuXG5cdFx0XHR3aGVuIHR5cGUgaXMgXCJwYXRoXCJcblx0XHRcdFx0cGF0aCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwicGF0aFwiKVxuXHRcdFx0XHRwYXRoLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiZFwiLCBcIiN7b3B0aW9ucy5wYXRofVwiKVxuXG5cdFx0XHRcdEAuc3ZnLmFwcGVuZENoaWxkKHBhdGgpXG5cbiIsIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS45LjFcbnZhciBiaW5kID0gZnVuY3Rpb24oZm4sIG1lKXsgcmV0dXJuIGZ1bmN0aW9uKCl7IHJldHVybiBmbi5hcHBseShtZSwgYXJndW1lbnRzKTsgfTsgfSxcbiAgZXh0ZW5kID0gZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkgeyBmb3IgKHZhciBrZXkgaW4gcGFyZW50KSB7IGlmIChoYXNQcm9wLmNhbGwocGFyZW50LCBrZXkpKSBjaGlsZFtrZXldID0gcGFyZW50W2tleV07IH0gZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9IGN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTsgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTsgcmV0dXJuIGNoaWxkOyB9LFxuICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cbmV4cG9ydHMuTGF5ZXJTVkcgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICBleHRlbmQoTGF5ZXJTVkcsIHN1cGVyQ2xhc3MpO1xuXG4gIGZ1bmN0aW9uIExheWVyU1ZHKG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PSBudWxsKSB7XG4gICAgICBvcHRpb25zID0ge307XG4gICAgfVxuICAgIHRoaXMuY3JlYXRlU2hhcGUgPSBiaW5kKHRoaXMuY3JlYXRlU2hhcGUsIHRoaXMpO1xuICAgIExheWVyU1ZHLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgIHRoaXMuaHRtbCA9IFwiPHN2ZyBpZD0nc3ZnJyB3aWR0aD0nXCIgKyB0aGlzLndpZHRoICsgXCInIGhlaWdodD0nXCIgKyB0aGlzLmhlaWdodCArIFwiJz4vPHN2Zz5cIjtcbiAgICB0aGlzLnN2ZyA9IHRoaXMucXVlcnlTZWxlY3RvcihcIiNzdmdcIik7XG4gIH1cblxuICBMYXllclNWRy5wcm90b3R5cGUuY3JlYXRlU2hhcGUgPSBmdW5jdGlvbih0eXBlLCBvcHRpb25zKSB7XG4gICAgdmFyIGNpcmNsZSwgZWxsaXBzZSwgbGluZSwgcGF0aCwgcG9seWdvbiwgcmVjdCwgc2hhcGU7XG4gICAgaWYgKG9wdGlvbnMgPT0gbnVsbCkge1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cbiAgICByZXR1cm4gc2hhcGUgPSAoZnVuY3Rpb24oKSB7XG4gICAgICBzd2l0Y2ggKGZhbHNlKSB7XG4gICAgICAgIGNhc2UgdHlwZSAhPT0gXCJyZWN0XCI6XG4gICAgICAgICAgcmVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwicmVjdFwiKTtcbiAgICAgICAgICByZWN0LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwieFwiLCBcIlwiICsgb3B0aW9ucy54KTtcbiAgICAgICAgICByZWN0LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwieVwiLCBcIlwiICsgb3B0aW9ucy55KTtcbiAgICAgICAgICByZWN0LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwid2lkdGhcIiwgXCJcIiArIG9wdGlvbnMud2lkdGgpO1xuICAgICAgICAgIHJlY3Quc2V0QXR0cmlidXRlTlMobnVsbCwgXCJoZWlnaHRcIiwgXCJcIiArIG9wdGlvbnMuaGVpZ2h0KTtcbiAgICAgICAgICByZXR1cm4gdGhpcy5zdmcuYXBwZW5kQ2hpbGQocmVjdCk7XG4gICAgICAgIGNhc2UgdHlwZSAhPT0gXCJjaXJjbGVcIjpcbiAgICAgICAgICBjaXJjbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcImNpcmNsZVwiKTtcbiAgICAgICAgICBjaXJjbGUuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJjeFwiLCBcIlwiICsgb3B0aW9ucy54KTtcbiAgICAgICAgICBjaXJjbGUuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJjeVwiLCBcIlwiICsgb3B0aW9ucy55KTtcbiAgICAgICAgICBjaXJjbGUuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJyXCIsIFwiXCIgKyBvcHRpb25zLnJhZGl1cyk7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuc3ZnLmFwcGVuZENoaWxkKGNpcmNsZSk7XG4gICAgICAgIGNhc2UgdHlwZSAhPT0gXCJlbGxpcHNlXCI6XG4gICAgICAgICAgZWxsaXBzZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwiZWxsaXBzZVwiKTtcbiAgICAgICAgICBlbGxpcHNlLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiY3hcIiwgXCJcIiArIG9wdGlvbnMueCk7XG4gICAgICAgICAgZWxsaXBzZS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImN5XCIsIFwiXCIgKyBvcHRpb25zLnkpO1xuICAgICAgICAgIGVsbGlwc2Uuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJyeFwiLCBcIlwiICsgb3B0aW9ucy5yYWRpdXNIb3Jpem9udGFsKTtcbiAgICAgICAgICBlbGxpcHNlLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwicnlcIiwgXCJcIiArIG9wdGlvbnMucmFkaXVzVmVydGljYWwpO1xuICAgICAgICAgIHJldHVybiB0aGlzLnN2Zy5hcHBlbmRDaGlsZChlbGxpcHNlKTtcbiAgICAgICAgY2FzZSB0eXBlICE9PSBcImxpbmVcIjpcbiAgICAgICAgICBsaW5lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJsaW5lXCIpO1xuICAgICAgICAgIGxpbmUuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ4MVwiLCBcIlwiICsgb3B0aW9ucy54KTtcbiAgICAgICAgICBsaW5lLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwieTFcIiwgXCJcIiArIG9wdGlvbnMueSk7XG4gICAgICAgICAgbGluZS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcIngyXCIsIFwiXCIgKyBvcHRpb25zLngyKTtcbiAgICAgICAgICBsaW5lLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwieTJcIiwgXCJcIiArIG9wdGlvbnMueTIpO1xuICAgICAgICAgIGxpbmUuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJzdHJva2VcIiwgXCJibGFja1wiKTtcbiAgICAgICAgICByZXR1cm4gdGhpcy5zdmcuYXBwZW5kQ2hpbGQobGluZSk7XG4gICAgICAgIGNhc2UgdHlwZSAhPT0gXCJwb2x5Z29uXCI6XG4gICAgICAgICAgcG9seWdvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwicG9seWdvblwiKTtcbiAgICAgICAgICBwb2x5Z29uLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwicG9pbnRzXCIsIFwiXCIgKyBvcHRpb25zLnBvaW50cyk7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuc3ZnLmFwcGVuZENoaWxkKHBvbHlnb24pO1xuICAgICAgICBjYXNlIHR5cGUgIT09IFwicGF0aFwiOlxuICAgICAgICAgIHBhdGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInBhdGhcIik7XG4gICAgICAgICAgcGF0aC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImRcIiwgXCJcIiArIG9wdGlvbnMucGF0aCk7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuc3ZnLmFwcGVuZENoaWxkKHBhdGgpO1xuICAgICAgfVxuICAgIH0pLmNhbGwodGhpcyk7XG4gIH07XG5cbiAgcmV0dXJuIExheWVyU1ZHO1xuXG59KShMYXllcik7XG4iLCIjIEFkZCB0aGUgZm9sbG93aW5nIGxpbmUgdG8geW91ciBwcm9qZWN0IGluIEZyYW1lciBTdHVkaW8uIFxuIyBteU1vZHVsZSA9IHJlcXVpcmUgXCJteU1vZHVsZVwiXG4jIFJlZmVyZW5jZSB0aGUgY29udGVudHMgYnkgbmFtZSwgbGlrZSBteU1vZHVsZS5teUZ1bmN0aW9uKCkgb3IgbXlNb2R1bGUubXlWYXJcblxuZXhwb3J0cy5teVZhciA9IFwibXlWYXJpYWJsZVwiXG5cbmV4cG9ydHMubXlGdW5jdGlvbiA9IC0+XG5cdHByaW50IFwibXlGdW5jdGlvbiBpcyBydW5uaW5nXCJcblxuZXhwb3J0cy5teUFycmF5ID0gWzEsIDIsIDNdIl19
